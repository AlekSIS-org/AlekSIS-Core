{# -*- engine:django -*- #}

{% extends "core/base.html" %}

{% load i18n static cropping %}
{% load render_table from django_tables2 %}

{% block browser_title %}{{ person.first }} {{ person.last }}{% endblock %}

{% block content %}
  <h4>{{ person.first }} {{ person.last }}</h4>
  <p>
    <a href="{% url 'edit_person_by_id' person.id %}" class="btn waves-effect waves-light">
      <i class="material-icons left">edit</i>
      {% trans "Edit" %}
    </a>
  </p>

  <h5>{% blocktrans %}Contact details{% endblocktrans %}</h5>
  <div class="row">
    <div class="col s12 m4">
      {% if person.photo %}
        <img class="person-img" src="{% cropped_thumbnail person 'photo_cropping' max_size='300x400' %}"
             alt="{{ person.first }} {{ person.last }}"/>
      {% else %}
        <img class="person-img" src="{% static 'img/fallback.png' %}"
             alt="{{ person.first }} {{ person.last }}"/>
      {% endif %}
    </div>
    <div class="col s12 m8">
      <table class="table table-responsive-xl table-border table-striped">
        <tr>
          <td rowspan="6">

          </td>
          <td>
            <i class="material-icons small">person</i>
          </td>
          <td>{{ person.first }}</td>
          <td>{{ person.middle }}</td>
          <td>{{ person.last }}</td>
        </tr>
        <tr>
          <td>
            <i class="material-icons small">face</i>
          </td>
          <td colspan="3">{{ person.get_sex_display }}</td>
        </tr>
        <tr>
          <td>
            <i class="material-icons small">home</i>
          </td>
          <td colspan="2">{{ person.street }} {{ person.housenumber }}</td>
          <td colspan="2">{{ person.postal_code }} {{ person.place }}</td>
        </tr>
        <tr>
          <td>
            <i class="material-icons small">phone</i>
          </td>
          <td>{{ person.phone_number }}</td>
          <td>{{ person.mobile_number }}</td>
        </tr>
        <tr>
          <td>
            <i class="material-icons small">email</i>
          </td>
          <td colspan="3">{{ person.email }}</td>
        </tr>
        <tr>
          <td>
            <i class="material-icons small">cake</i>
          </td>
          <td colspan="3">{{ person.date_of_birth|date }}</td>
        </tr>
      </table>
    </div>
  </div>

  <h5>{% blocktrans %}Groups{% endblocktrans %}</h5>
  {% render_table groups_table %}
{% endblock %}
