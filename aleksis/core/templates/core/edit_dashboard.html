{% extends 'core/base.html' %}
{% load i18n static dashboard any_js %}

{% block browser_title %}{% blocktrans %}Edit dashboard{% endblocktrans %}{% endblock %}
{% block page_title %}{% blocktrans %}Edit dashboard{% endblocktrans %}{% endblock %}

{% block content %}
  <div class="alert primary">
    <p>
      <i class="material-icons left">info</i>
      On this page you can arrange your personal dashboard. You can drag any items from "Available widgets" to "Your
      Dashboard" or change the order by moving the widgets. After you have finished, please don't forget to click on
      "Save".
    </p>
  </div>

  <form action="" method="post" id="order-form">
    {% csrf_token %}
    {{ formset.management_form }}
    {% for form in formset %}
      {{ form.as_p }}
    {% endfor %}
    {% include "core/partials/save_button.html" %}
  </form>

  <h5>{% trans "Available widgets" %}</h5>
  <div class="row card-panel grey lighten-3" id="not-used-widgets">
    {% for widget in not_used_widgets %}
      {% include "core/partials/edit_dashboard_widget.html" %}
    {% endfor %}
  </div>

  <h5>{% trans "Your dashboard" %}</h5>
  <div class="row card-panel grey lighten-3" id="widgets">
    {% for widget in widgets %}
      {% include "core/partials/edit_dashboard_widget.html" %}
    {% endfor %}
  </div>

  <script src="{% static "js/edit_dashboard.js" %}"></script>
{% endblock %}
