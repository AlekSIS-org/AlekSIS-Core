{% extends "core/base.html" %}

{% load i18n material_form %}

{% block browser_title %}{% trans "Connected accounts" %}{% endblock %}
{% block no_page_title %}{% endblock %}

{% block content %}
  <div class="container">
    <h5>{% trans "Connected third party accounts" %}</h5>
  {% if form.accounts %}
      <p>{% blocktrans %}You can sign in to your account using any of the following third party accounts:{% endblocktrans %}</p>
      <ul class="collection">
        {% for base_account in form.accounts %}
          {% with base_account.get_provider_account as account %}
            <li class="collection-item">
              <form method="post" action="{% url 'socialaccount_connections' %}">
              {% csrf_token %}
              <div class="row no-margin">
              <div class="col s12 m7 no-padding">
                  <input id="id_account_{{ base_account.id }}" type="hidden" name="account" value="{{ base_account.id }}"/>
                  <strong>{{account.get_brand.name}}</strong> ({{ account }})
                  {% if form.non_field_errors %}
                    <div class="red-text help-text">{{ form.non_field_errors }}</div>
                  {% endif %}
                  </div>
                  <div class="col s12 m5 no-padding">
                  <button type="submit" class="btn waves-effect waves-light red right hide-on-small-only">
                    <i class="material-icons left">delete_forever</i>{% trans "Remove" %}
                    </button>
                    <button type="submit" class="btn waves-effect waves-light red hide-on-med-and-up">
                    <i class="material-icons left">delete_forever</i>{% trans "Remove" %}
                    </button> 
                    </div>
              </div>
              </form>
            </li>
          {% endwith %}
        {% endfor %}
      </ul>
  {% else %}
    <p>{% trans 'You currently have no third party accounts connected to this account.' %}</p>
  {% endif %}

  <h5>{% trans 'Add a third party account' %}</h5>

  {% include "socialaccount/snippets/provider_list.html" with process="connect" %}
</div>
{% include "socialaccount/snippets/login_extra.html" %}

{% endblock %}
